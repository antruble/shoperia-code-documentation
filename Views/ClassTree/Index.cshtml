@model ShoperiaDocumentation.Models.FolderHierarchyViewModel
@using Microsoft.AspNetCore.Identity
@inject UserManager<IdentityUser> UserManager


@{
    ViewData["Title"] = "ClassTree";
    Layout = "~/Views/Shared/_ClassTreeLayout.cshtml";

    string rootFolderName = !string.IsNullOrEmpty(Model.RootFolderName) ? $"{Model.RootFolderName}/" : string.Empty;
    string subFolderName = !string.IsNullOrEmpty(Model.SubFolderName) ? $"{Model.SubFolderName}/" : string.Empty;
    string remainingPath = !string.IsNullOrEmpty(Model.RemainingPath) ? $"{Model.RemainingPath}/" : string.Empty;

    var currentPath = string.Concat(rootFolderName, subFolderName, remainingPath);
    ViewBag.currentPath = currentPath;

    bool isAdmin = User.IsInRole("Admin");


}
@await Html.PartialAsync("_FileExplorerPartial", Model)

<!-- Modal Structure -->
<div id="modal" class="w-5/6 flex justify-center items-center py-16">
    @* <div class="absolute left-0 top-0 h-full w-full bg-black bg-opacity-75 cursor-pointer" onclick="minimizeModal()"></div> *@
    <div class="w-10/12 text-left shadow-xl transform transition-all h-full w-fullead shadow-xl flex flex-col">
        <div id="modalHeader" class="bg-violet-900 h-14 min-h-fit border-b-2 border-slate-400 pb-2 pt-4 px-8 flex items-end justify-between rounded-t-3xl">
            <div id="tabs" class="flex space-x-4 overflow-x-scroll custom-scrollbar-gray custom-scrollbar pb-2">
                <!-- Tabs will be inserted here dynamically -->
            </div>
        </div>
        <div id="modalContent" class="bg-custom-dark grow p-4 overflow-y-scroll custom-scrollbar-filecontent rounded-b-3xl ">
            @* <div class="flex justify-center items-center h-full">
                <svg class="h-full" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="1080" height="1080" viewBox="0 0 1080 1080" xml:space="preserve">
                    <desc>Created with Fabric.js 5.2.4</desc>
                    <defs>
                    </defs>
                    <g transform="matrix(1 0 0 1 540 540)" id="8d3d8e86-2549-459c-b432-16d7d8551ea7">
                    </g>
                    <g transform="matrix(1 0 0 1 540 540)" id="9680b4be-400d-470f-b02b-c971eea01a29">
                    <rect style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-dashoffset: 0; stroke-linejoin: miter; stroke-miterlimit: 4; fill: rgb(255,255,255); fill-rule: nonzero; opacity: 1; visibility: hidden;" vector-effect="non-scaling-stroke" x="-540" y="-540" rx="0" ry="0" width="1080" height="1080" />
                    </g>
                    <g transform="matrix(1.88 0 0 1.88 540 656.85)">
                    <path style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-dashoffset: 0; stroke-linejoin: miter; stroke-miterlimit: 4; fill: rgb(24,8,60); fill-rule: nonzero; opacity: 1;" transform=" translate(-286.92, -286.93)" d="M 554.047 110.737 C 553.215 110.58399999999999 552.471 111.095 552.2810000000001 111.88199999999999 C 549.2790000000001 124.28399999999999 544.7080000000001 136.524 538.6880000000001 148.31799999999998 C 537.4610000000001 145.92499999999998 534.6980000000001 144.25699999999998 532.0200000000001 142.641 C 529.7440000000001 141.267 527.1650000000001 139.70999999999998 527.1190000000001 138.38799999999998 C 527.1000000000001 137.867 527.4830000000002 136.70099999999996 530.2590000000001 134.75599999999997 C 530.9020000000002 134.30599999999998 531.0970000000001 133.44599999999997 530.7180000000001 132.76099999999997 C 530.3380000000001 132.07499999999996 529.499 131.78499999999997 528.7800000000001 132.09699999999998 C 521.1510000000001 135.338 518.388 145.29199999999997 520.2090000000001 152.65699999999998 C 521.2130000000001 156.71999999999997 524.1690000000001 159.17199999999997 526.302 160.66199999999998 C 530.173 163.36399999999998 530.173 163.36399999999998 527.517 167.41799999999998 C 517.9060000000001 182.07899999999998 505.66300000000007 196.33499999999998 491.13000000000005 209.796 C 468.01200000000006 231.204 441.96200000000005 246.014 414.37600000000003 261.69599999999997 C 411.047 263.587 407.71200000000005 265.484 404.37600000000003 267.397 C 403.862 264.034 402.35400000000004 260.913 400.882 257.875 C 399.046 254.083 397.314 250.503 397.632 246.807 C 397.904 243.88199999999998 401.5 243.267 404.468 243.267 C 406.32500000000005 243.267 407.975 243.515 408.795 243.662 C 409.575 243.8 410.31 243.341 410.533 242.594 C 410.75300000000004 241.84699999999998 410.38 241.055 409.664 240.749 C 407.524 239.84 405.215 239.271 402.81 239.057 C 392.581 238.069 382.176 244.33599999999998 376.42 254.42499999999998 C 372.12100000000004 261.67699999999996 373.749 267.078 375.47200000000004 272.79699999999997 C 376.26700000000005 275.429 377.08400000000006 278.14899999999994 377.36300000000006 281.212 C 377.7490000000001 285.465 375.22100000000006 287.45099999999996 371.06200000000007 290.337 C 370.07400000000007 291.02299999999997 369.07400000000007 291.71999999999997 368.1190000000001 292.476 C 363.8260000000001 295.87 359.5990000000001 299.395 355.56000000000006 302.956 C 347.66300000000007 309.927 340.38900000000007 317.137 333.94500000000005 324.379 C 318.65100000000007 341.656 306.374 360.588 297.38300000000004 380.754 C 298.86400000000003 338.201 304.64200000000005 302.408 314.985 271.613 C 327.03200000000004 277.035 337.344 275.98 347.963 268.317 C 357.16700000000003 261.68 365.95300000000003 249.675 363.009 235.893 C 362.84700000000004 235.156 362.223 234.648 361.427 234.685 C 360.677 234.728 360.06600000000003 235.309 359.98900000000003 236.059 C 358.93600000000004 246.341 356.04900000000004 250.49 350.80300000000005 249.15 C 347.09400000000005 248.192 343.85400000000004 246.09 340.4200000000001 243.868 C 337.58600000000007 242.03199999999998 334.6740000000001 240.144 331.41800000000006 238.902 C 343.07000000000005 221.509 358.06700000000006 205.15599999999998 376.0210000000001 190.27599999999998 C 390.7390000000001 178.07899999999998 406.4430000000001 168.736 423.07400000000007 158.84699999999998 C 426.4220000000001 156.85799999999998 429.77600000000007 154.85999999999999 433.1360000000001 152.83399999999997 C 444.32900000000006 146.07199999999997 453.9960000000001 139.60299999999998 462.68700000000007 133.05399999999997 C 466.9990000000001 129.80399999999997 471.2490000000001 126.40499999999997 475.32500000000005 122.94699999999997 C 476.00500000000005 122.37099999999998 476.63700000000006 121.77799999999998 477.25600000000003 121.19699999999997 C 479.77200000000005 118.83499999999998 481.656 117.17599999999997 484.79900000000004 118.15199999999997 C 486.754 118.75499999999997 488.43500000000006 119.84399999999997 490.21200000000005 120.99499999999998 C 492.73100000000005 122.63199999999998 495.338 124.32099999999997 498.927 124.68499999999997 C 503.343 124.95699999999998 507.774 123.95099999999998 512.2810000000001 121.70199999999997 C 519.267 118.21999999999997 528.9300000000001 109.47999999999998 526.9240000000001 99.67599999999997 C 526.7780000000001 98.96899999999998 526.1620000000001 98.46099999999997 525.4430000000001 98.45199999999997 C 524.7060000000001 98.53199999999997 524.094 98.93899999999996 523.9350000000001 99.64199999999997 C 523.4910000000001 101.57599999999996 521.7740000000001 107.88899999999997 518.2610000000001 107.88899999999997 C 517.2790000000001 107.88899999999997 516.147 107.42999999999996 514.8890000000001 106.52699999999997 C 514.4890000000001 106.23999999999997 513.8640000000001 105.70099999999998 513.0800000000002 105.03699999999998 C 510.2160000000002 102.60099999999997 505.7330000000002 98.78499999999998 501.90500000000014 97.63799999999998 C 526.9720000000001 71.95899999999997 545.0020000000002 35.60899999999997 549.2920000000001 1.731999999999971 C 549.3940000000001 0.9269999999999708 548.8490000000002 0.18099999999997096 548.0530000000001 0.03399999999997094 C 547.2150000000001 -0.12900000000002906 546.4780000000001 0.3919999999999709 546.2870000000001 1.1779999999999708 C 543.2860000000002 13.58299999999997 538.7140000000002 25.823999999999973 532.6950000000002 37.61599999999997 C 531.4670000000002 35.22299999999997 528.7050000000002 33.55499999999997 526.0270000000002 31.93999999999997 C 523.7510000000002 30.56599999999997 521.1710000000002 29.00899999999997 521.1250000000001 27.68699999999997 C 521.1060000000001 27.16699999999997 521.4890000000001 26.00099999999997 524.2650000000001 24.054999999999968 C 524.9080000000001 23.60499999999997 525.1040000000002 22.74499999999997 524.724 22.059999999999967 C 524.341 21.373999999999967 523.503 21.080999999999968 522.787 21.395999999999965 C 515.158 24.635999999999967 512.394 34.58999999999997 514.216 41.95599999999996 C 515.22 46.01899999999996 518.175 48.47099999999996 520.308 49.96099999999996 C 524.179 52.66299999999996 524.179 52.66299999999996 521.523 56.71399999999996 C 511.91200000000003 71.37499999999996 499.66900000000004 85.63099999999997 485.137 99.09199999999996 C 462.019 120.49999999999996 435.962 135.31299999999996 408.376 150.99599999999995 C 405.04999999999995 152.88699999999994 401.715 154.78099999999995 398.37899999999996 156.69399999999996 C 397.86799999999994 153.33099999999996 396.359 150.20999999999995 394.888 147.17099999999996 C 393.05199999999996 143.37999999999997 391.32099999999997 139.79899999999998 391.638 136.10299999999995 C 391.90999999999997 133.17499999999995 395.506 132.56199999999995 398.471 132.56199999999995 C 400.32800000000003 132.56199999999995 401.982 132.81299999999996 402.801 132.95999999999995 C 403.578 133.09799999999996 404.316 132.63899999999995 404.539 131.89199999999994 C 404.76 131.14499999999992 404.38599999999997 130.34999999999994 403.66999999999996 130.04699999999994 C 401.53099999999995 129.13799999999995 399.21799999999996 128.56599999999995 396.81299999999993 128.35499999999993 C 386.6259999999999 127.36399999999993 376.1859999999999 133.62999999999994 370.42599999999993 143.72199999999992 C 366.12699999999995 150.97399999999993 367.75499999999994 156.37499999999991 369.47799999999995 162.0949999999999 C 370.27399999999994 164.7259999999999 371.09 167.44699999999992 371.36999999999995 170.5099999999999 C 371.75199999999995 174.7599999999999 369.227 176.7459999999999 365.06899999999996 179.6319999999999 C 364.08399999999995 180.31999999999988 363.08 181.0179999999999 362.12199999999996 181.7739999999999 C 357.81299999999993 185.18299999999988 353.59099999999995 188.70799999999988 349.56699999999995 192.25399999999988 C 341.66599999999994 199.22799999999987 334.39199999999994 206.43399999999988 327.95099999999996 213.67999999999986 C 298.09999999999997 247.39799999999985 279.79599999999994 287.56399999999985 275.01099999999997 329.83099999999985 C 273.854 340.0389999999999 273.27 350.34299999999985 273.26699999999994 360.55399999999986 C 272.67599999999993 359.14999999999986 272.08599999999996 357.74199999999985 271.49799999999993 356.33399999999983 C 259.6189999999999 327.8849999999998 252.35399999999993 302.9429999999998 249.30699999999993 280.32899999999984 C 249.38099999999994 276.87499999999983 249.38099999999994 273.77499999999986 249.30699999999993 270.84999999999985 C 249.30099999999993 270.64499999999987 249.29199999999994 270.4399999999998 249.28299999999993 270.23199999999986 C 257.9149999999999 269.97799999999984 264.08699999999993 266.29999999999984 268.63999999999993 258.71999999999986 C 272.8449999999999 251.71599999999987 275.24099999999993 241.26899999999986 269.35599999999994 232.95199999999986 C 268.91799999999995 232.33399999999986 268.09799999999996 232.13199999999986 267.42799999999994 232.46199999999985 C 266.75199999999995 232.79499999999985 266.42099999999994 233.57299999999984 266.64399999999995 234.29199999999986 C 268.02099999999996 238.68599999999986 268.21399999999994 241.72999999999985 267.2099999999999 243.33999999999986 C 266.7199999999999 244.12999999999985 265.8909999999999 244.60399999999987 264.6859999999999 244.78999999999985 C 262.04799999999994 245.19099999999986 259.42599999999993 244.73499999999984 256.6039999999999 244.25099999999986 C 254.41299999999993 243.87499999999986 252.28599999999992 243.47399999999988 249.83199999999994 243.51399999999987 C 252.57399999999993 229.17499999999987 257.7149999999999 214.58799999999988 265.1259999999999 200.11999999999986 C 271.2709999999999 188.12799999999987 278.85599999999994 177.69699999999986 286.8889999999999 166.65299999999985 C 288.5169999999999 164.41299999999984 290.1539999999999 162.16399999999985 291.78199999999987 159.89699999999985 C 297.1949999999999 152.35099999999986 301.68099999999987 145.43599999999984 305.5029999999999 138.75499999999985 C 307.3919999999999 135.45699999999985 309.2119999999999 132.05399999999986 310.9159999999999 128.63599999999985 C 311.2009999999999 128.06699999999987 311.4489999999999 127.49799999999985 311.6899999999999 126.94399999999986 C 312.7489999999999 124.51799999999986 313.3479999999999 123.33999999999986 315.38299999999987 123.11899999999986 C 316.7839999999999 122.97199999999985 318.1249999999999 123.20699999999985 319.5719999999999 123.45499999999986 C 321.7839999999999 123.83399999999986 324.2189999999999 124.11899999999986 326.4909999999999 123.40299999999985 C 329.46499999999986 122.34699999999985 332.16999999999985 120.39799999999985 334.53499999999985 117.60799999999985 C 338.19799999999987 113.28999999999985 342.12399999999985 104.67999999999985 337.93499999999983 98.65699999999984 C 337.5219999999998 98.06699999999984 336.7529999999998 97.83999999999985 336.0889999999998 98.11799999999984 C 335.42499999999984 98.39699999999984 335.0419999999998 99.09699999999984 335.1709999999998 99.80699999999985 C 335.6759999999998 102.57399999999984 335.4889999999998 104.80999999999985 334.6689999999998 105.79599999999985 C 334.3539999999998 106.17799999999986 333.4569999999998 106.67099999999985 331.74999999999983 106.29199999999985 C 331.4189999999998 106.21899999999985 330.87499999999983 106.04399999999984 330.1949999999998 105.83599999999984 C 327.8209999999998 105.10199999999985 324.19399999999985 103.97299999999984 321.40099999999984 104.06499999999984 C 330.34799999999984 80.41699999999985 331.8439999999998 51.96199999999984 325.2189999999998 28.86499999999984 C 324.99499999999983 28.087999999999838 324.2029999999998 27.613999999999837 323.4099999999998 27.793999999999837 C 322.6179999999998 27.974999999999838 322.1029999999998 28.741999999999837 322.2379999999998 29.540999999999837 C 323.69499999999977 38.16099999999984 324.15399999999977 47.08999999999983 323.60599999999977 56.125999999999834 C 322.0909999999998 55.222999999999836 320.0929999999998 54.94499999999984 318.1439999999998 54.674999999999834 C 316.6599999999998 54.469999999999835 314.4079999999998 54.15799999999983 314.1169999999998 53.527999999999835 C 314.0829999999998 53.460999999999835 313.8359999999998 52.79399999999983 315.1209999999998 50.71599999999984 C 315.5339999999998 50.048999999999836 315.3779999999998 49.179999999999836 314.75699999999983 48.698999999999835 C 314.1419999999998 48.21599999999984 313.25399999999985 48.28599999999984 312.71599999999984 48.85199999999983 C 308.4959999999998 53.25899999999983 309.4959999999998 60.76499999999983 312.84799999999984 65.18899999999984 C 314.72299999999984 67.66799999999984 317.43099999999987 68.47299999999984 319.30399999999986 68.86399999999983 C 320.13299999999987 69.03499999999984 321.66899999999987 69.35299999999984 321.90799999999984 69.58899999999983 C 322.06699999999984 69.93499999999983 321.77299999999985 71.59899999999983 321.63299999999987 72.39799999999983 C 319.4759999999999 84.58299999999983 315.5029999999999 97.23299999999983 309.8269999999999 109.99999999999983 C 300.7909999999999 130.31799999999984 287.9939999999999 147.19699999999983 274.44799999999987 165.06699999999984 C 272.93899999999985 167.05599999999984 271.4279999999999 169.05399999999983 269.91899999999987 171.05899999999983 C 268.64299999999986 169.2169999999998 266.92899999999986 167.73299999999983 265.2619999999999 166.27899999999983 C 263.0589999999999 164.36599999999981 260.9809999999999 162.56099999999984 260.1949999999999 160.18999999999983 C 260.0239999999999 159.66399999999982 260.0629999999999 159.22599999999983 260.32299999999987 158.76999999999984 C 261.13399999999984 157.33799999999985 263.8849999999999 156.14699999999985 266.2529999999999 155.60299999999984 C 267.0119999999999 155.42899999999983 267.51999999999987 154.70899999999983 267.43099999999987 153.93499999999983 C 267.34199999999987 153.16399999999985 266.68699999999984 152.58199999999982 265.90999999999985 152.58199999999982 C 265.90699999999987 152.58199999999982 265.90699999999987 152.58199999999982 265.9039999999999 152.58199999999982 C 264.21499999999986 152.58799999999982 262.5099999999999 152.86999999999983 260.8429999999999 153.41699999999983 C 252.8379999999999 155.98399999999984 248.45299999999992 164.18199999999985 247.6599999999999 171.13799999999983 C 246.8609999999999 177.24899999999982 249.61499999999992 180.52599999999984 252.27399999999992 183.69599999999983 C 253.50699999999992 185.16799999999984 254.7829999999999 186.69199999999984 255.79899999999992 188.5679999999998 C 257.11799999999994 191.00999999999982 256.1259999999999 192.8209999999998 254.26299999999992 195.80799999999982 C 253.80699999999993 196.53899999999982 253.34199999999993 197.27999999999983 252.92899999999992 198.04499999999982 C 251.06599999999992 201.4839999999998 249.2969999999999 204.9609999999998 247.67499999999993 208.3819999999998 C 244.96099999999993 214.11099999999982 242.5949999999999 219.8109999999998 240.61899999999991 225.3679999999998 C 235.52399999999992 211.3559999999998 228.27499999999992 197.9569999999998 219.0209999999999 185.4719999999998 C 214.90499999999992 179.9489999999998 210.2109999999999 174.4099999999998 205.0639999999999 169.0059999999998 C 202.44099999999992 166.2519999999998 199.6719999999999 163.5009999999998 196.8389999999999 160.8329999999998 C 196.20499999999993 160.2359999999998 195.5349999999999 159.6759999999998 194.87099999999992 159.1229999999998 C 192.16299999999993 156.87099999999978 190.65699999999993 155.4629999999998 191.14699999999993 152.7299999999998 C 191.52299999999994 150.6309999999998 192.25799999999992 148.7859999999998 192.97099999999995 146.9989999999998 C 194.50399999999993 143.1559999999998 196.09199999999996 139.1839999999998 193.42999999999995 133.6539999999998 C 190.51099999999994 127.3169999999998 183.83099999999996 120.9249999999998 175.36699999999996 120.9249999999998 C 173.60399999999996 120.9279999999998 171.89099999999996 121.1949999999998 170.28399999999996 121.7169999999998 C 169.54599999999996 121.9589999999998 169.10199999999998 122.7179999999998 169.26199999999997 123.4829999999998 C 169.41799999999998 124.2419999999998 170.05799999999996 124.7649999999998 170.89899999999997 124.69799999999981 C 171.35799999999998 124.6559999999998 171.90599999999998 124.62799999999982 172.49299999999997 124.62799999999982 C 174.16999999999996 124.62799999999982 178.07199999999997 124.87599999999982 178.08699999999996 127.14699999999982 C 178.08399999999997 129.6559999999998 176.67299999999997 132.02199999999982 175.17999999999995 134.52699999999982 C 174.04799999999994 136.42699999999982 172.88499999999996 138.3769999999998 172.24799999999996 140.5249999999998 C 170.19199999999995 139.0959999999998 168.13199999999995 137.67599999999982 166.07599999999996 136.25899999999982 C 147.61799999999997 123.52599999999981 130.17899999999997 111.49999999999982 115.23399999999997 95.02899999999983 C 105.84299999999996 84.67999999999982 98.10999999999997 73.90499999999983 92.25099999999996 63.01499999999982 C 91.86799999999997 62.29899999999982 91.06699999999996 60.81099999999982 91.09999999999997 60.45999999999982 C 91.26299999999996 60.13499999999982 92.62399999999997 59.348999999999826 93.35499999999996 58.92999999999982 C 95.01099999999997 57.974999999999824 97.32999999999996 56.36599999999982 98.33999999999996 53.41899999999982 C 100.13299999999997 48.16799999999982 98.73499999999996 40.72599999999982 93.34599999999996 37.86199999999982 C 92.66399999999996 37.49799999999982 91.80099999999996 37.70599999999982 91.36299999999996 38.35799999999982 C 90.92299999999996 39.00699999999982 91.04499999999996 39.88199999999982 91.64799999999995 40.386999999999816 C 93.51799999999996 41.959999999999816 93.49299999999995 42.66699999999982 93.48399999999995 42.74299999999982 C 93.40099999999995 43.43099999999982 91.36299999999996 44.43199999999982 90.01399999999995 45.09299999999982 C 88.26999999999995 45.94999999999982 86.47899999999996 46.82799999999982 85.28899999999996 48.20499999999982 C 81.93499999999996 39.78099999999982 79.57299999999996 31.147999999999822 78.25699999999996 22.50099999999982 C 78.13799999999996 21.69899999999982 77.42799999999997 21.13299999999982 76.59899999999996 21.20999999999982 C 75.79099999999995 21.28599999999982 75.18499999999996 21.98099999999982 75.21599999999997 22.79199999999982 C 76.15799999999996 46.80699999999982 86.48599999999996 73.35899999999982 102.38599999999997 93.01599999999982 C 99.97099999999996 93.72599999999981 97.22999999999996 95.57099999999983 94.58599999999997 97.45299999999982 C 94.01099999999997 97.86599999999981 93.54599999999996 98.19999999999982 93.25199999999997 98.37099999999982 C 92.47499999999997 98.83599999999983 91.78999999999996 99.07199999999982 91.22599999999997 99.07199999999982 C 89.41799999999996 99.07199999999982 88.35899999999997 96.08599999999981 87.97399999999998 93.28899999999982 C 87.87599999999998 92.57599999999982 87.29099999999997 92.02799999999982 86.57599999999998 91.97299999999981 C 85.86299999999999 91.92999999999981 85.19899999999998 92.37099999999981 84.99099999999999 93.06199999999981 C 82.90099999999998 100.09099999999981 89.32399999999998 107.03999999999981 94.15299999999999 109.99599999999981 C 97.27399999999999 111.9059999999998 100.45299999999999 112.91199999999981 103.66 112.9859999999998 C 106.279 112.9489999999998 108.271 111.8929999999998 110.196 110.86799999999981 C 111.49 110.17999999999981 112.714 109.5279999999998 114.07 109.23699999999981 C 116.04899999999999 108.80499999999981 117.02 109.7479999999998 118.773 111.7089999999998 C 119.17699999999999 112.1589999999998 119.59299999999999 112.62399999999981 120.03699999999999 113.0769999999998 C 122.71499999999999 115.7789999999998 125.508 118.4409999999998 128.34799999999998 120.9929999999998 C 134.08499999999998 126.1549999999998 140.515 131.3209999999998 147.99599999999998 136.7769999999998 C 150.242 138.41699999999977 152.49399999999997 140.0329999999998 154.73399999999998 141.64499999999978 C 165.82999999999998 149.6229999999998 176.30999999999997 157.1589999999998 185.90599999999998 166.63299999999978 C 197.46899999999997 178.04999999999978 206.91599999999997 190.2959999999998 214.015 203.0589999999998 C 211.809 203.7559999999998 209.783 204.8329999999998 207.81199999999998 205.8799999999998 C 205.291 207.2199999999998 202.90699999999998 208.4839999999998 200.30899999999997 208.91899999999978 C 199.99399999999997 208.97099999999978 199.62299999999996 208.94899999999978 199.42499999999998 208.99499999999978 C 198.39399999999998 208.99499999999978 195.29399999999998 208.9679999999998 195.159 199.56099999999978 C 195.147 198.80899999999977 194.59 198.17499999999978 193.843 198.06799999999978 C 193.099 197.94899999999978 192.384 198.4139999999998 192.16299999999998 199.1359999999998 C 189.176 208.8819999999998 194.72699999999998 218.04999999999978 200.914 223.3839999999998 C 207.921 229.4339999999998 215.19199999999998 230.8899999999998 223.928 227.97699999999978 C 229.571 251.55999999999977 231.254 277.82699999999977 229.198 310.23599999999976 C 226.832 308.08499999999975 224.577 306.11099999999976 222.368 304.24099999999976 C 218.237 300.75599999999974 213.938 297.3219999999998 209.593 294.0359999999998 C 208.623 293.3019999999998 207.607 292.6289999999998 206.6 291.96199999999976 C 202.38299999999998 289.16499999999974 199.81 287.2329999999998 200.106 282.97499999999974 C 200.314 279.90299999999974 201.076 277.16399999999976 201.814 274.5139999999997 C 203.415 268.7619999999997 204.926 263.3239999999997 200.483 256.19099999999975 C 194.522 246.24599999999975 183.83100000000002 240.22399999999973 173.76600000000002 241.37499999999974 C 171.35200000000003 241.64099999999974 169.05400000000003 242.26199999999974 166.93900000000002 243.21699999999976 C 166.229 243.53799999999976 165.871 244.33999999999975 166.109 245.07999999999976 C 166.345 245.82099999999977 167.091 246.25799999999975 167.869 246.10799999999975 C 168.778 245.92399999999975 170.604 245.61499999999975 172.621 245.61499999999975 C 176.661 245.61499999999975 178.839 246.75999999999976 179.09900000000002 248.99899999999974 C 179.497 252.69899999999973 177.84500000000003 256.3149999999997 176.09400000000002 260.14599999999973 C 174.69000000000003 263.21499999999975 173.24500000000003 266.3699999999997 172.80800000000002 269.74199999999973 C 169.43300000000002 267.90299999999974 166.06300000000002 266.0819999999997 162.70100000000002 264.26499999999976 C 134.77900000000002 249.17899999999975 108.40500000000003 234.93499999999977 84.83000000000003 214.02899999999977 C 70.01000000000002 200.88899999999978 57.46400000000003 186.89899999999977 47.535000000000025 172.44699999999978 C 44.79300000000003 168.45699999999977 44.79300000000003 168.45699999999977 48.60600000000002 165.66899999999978 C 50.709000000000024 164.1359999999998 53.60300000000002 161.62099999999978 54.52700000000002 157.53599999999977 C 56.185000000000024 150.1339999999998 53.21100000000002 140.24099999999976 45.51500000000002 137.16499999999976 C 44.78900000000002 136.87199999999976 43.95700000000002 137.17799999999977 43.593000000000025 137.87199999999976 C 43.22900000000003 138.56299999999976 43.443000000000026 139.41999999999976 44.09500000000003 139.85499999999976 C 46.913000000000025 141.73999999999975 47.32300000000003 142.89699999999976 47.31400000000003 143.41699999999977 C 47.29800000000003 144.73899999999978 44.75200000000003 146.35199999999978 42.510000000000026 147.77399999999977 C 39.89700000000003 149.42899999999977 37.21000000000003 151.1339999999998 35.974000000000025 153.61899999999977 C 29.688000000000024 141.94199999999978 24.854000000000028 129.79699999999977 21.586000000000027 117.46199999999978 C 21.37800000000003 116.67899999999977 20.582000000000026 116.19199999999978 19.799000000000028 116.35499999999978 C 19.00300000000003 116.51999999999978 18.47400000000003 117.27599999999978 18.59300000000003 118.07799999999978 C 23.61100000000003 151.85699999999977 42.41800000000003 187.80599999999976 68.03600000000003 212.93799999999976 C 64.59400000000002 214.04899999999975 60.60300000000003 217.40199999999976 57.02600000000003 220.58199999999977 C 56.25800000000003 221.26399999999975 55.64300000000003 221.81499999999977 55.25100000000003 222.11199999999977 C 53.98700000000003 223.06699999999978 52.84000000000003 223.54699999999977 51.842000000000034 223.54699999999977 C 48.372000000000035 223.54699999999977 46.53900000000004 217.32899999999978 46.058000000000035 215.42299999999977 C 45.881000000000036 214.72799999999978 45.388000000000034 214.17999999999978 44.522000000000034 214.26899999999978 C 43.80300000000003 214.28999999999976 43.19700000000003 214.81399999999977 43.06500000000003 215.52399999999977 C 41.266000000000034 225.37099999999978 51.119000000000035 233.89899999999977 58.17500000000003 237.23199999999977 C 62.07100000000003 239.07099999999977 65.94700000000003 240.00399999999976 69.69600000000003 240.00399999999976 C 70.32600000000002 240.00399999999976 70.96000000000002 239.97999999999976 71.65400000000002 239.91799999999975 C 75.17600000000003 239.48299999999975 77.74600000000002 237.73899999999975 80.23100000000002 236.04699999999974 C 81.98100000000002 234.85699999999974 83.63700000000003 233.72999999999973 85.57700000000003 233.08799999999974 C 88.68900000000002 232.06299999999973 90.61100000000003 233.65099999999973 93.18400000000003 235.97099999999975 C 93.81400000000002 236.53699999999975 94.46300000000002 237.11799999999974 95.15200000000003 237.67899999999975 C 99.29800000000003 241.04799999999975 103.62500000000003 244.35599999999974 108.00400000000003 247.51099999999974 C 116.82000000000004 253.85799999999975 126.62400000000004 260.1179999999997 137.98000000000002 266.64499999999975 C 141.401 268.6129999999998 144.81900000000002 270.54599999999976 148.234 272.4779999999998 C 165.048 281.9949999999998 180.933 290.9849999999998 195.89000000000001 302.8449999999998 C 214.15800000000002 317.3339999999998 229.50400000000002 333.3599999999998 241.53300000000002 350.4949999999998 C 238.30200000000002 351.8049999999998 235.431 353.7569999999998 232.637 355.65399999999977 C 229.256 357.95199999999977 226.061 360.1219999999998 222.374 361.15899999999976 C 217.14499999999998 362.63799999999975 214.182 358.53699999999975 212.906 348.26999999999975 C 212.814 347.52299999999974 212.193 346.95499999999976 211.44 346.9299999999998 C 211.422 346.9299999999998 211.403 346.9299999999998 211.388 346.9299999999998 C 210.657 346.9299999999998 210.023 347.44999999999976 209.886 348.1719999999998 C 207.242 362.0189999999998 216.287 373.8299999999998 225.63299999999998 380.26199999999983 C 236.42299999999997 387.6979999999998 246.75599999999997 388.52799999999985 258.678 382.84499999999986 C 271.18399999999997 417.55699999999985 277.754 457.3989999999999 279.348 508.02299999999985 L 279.449 511.9929999999999 L 275.764 511.9499999999999 C 154.57600000000002 512.4639999999998 85.512 525.9979999999998 76.035 551.0899999999999 C 71.451 563.2299999999999 82.30499999999999 573.0619999999999 82.767 573.4709999999999 C 83.048 573.7219999999999 83.41 573.8569999999999 83.783 573.8569999999999 L 499.16200000000003 573.8569999999999 C 499.57800000000003 573.8569999999999 499.973 573.6889999999999 500.26000000000005 573.3919999999998 C 500.64900000000006 572.9919999999998 509.74300000000005 563.4109999999998 504.73500000000007 551.5799999999998 C 497.14900000000006 533.6639999999998 456.53400000000005 512.3079999999998 306.14700000000005 512.3079999999998 L 302.96700000000004 512.2719999999998 L 302.98300000000006 507.9449999999998 C 303.48100000000005 457.2989999999998 309.1910000000001 417.32899999999984 320.94500000000005 382.3499999999998 C 332.98900000000003 387.7689999999998 343.3070000000001 386.7169999999998 353.92300000000006 379.0539999999998 C 363.12700000000007 372.4169999999998 371.91200000000003 360.4119999999998 368.96900000000005 346.6299999999998 C 368.81000000000006 345.89599999999984 368.23800000000006 345.37899999999985 367.38700000000006 345.4219999999998 C 366.63700000000006 345.4619999999998 366.02600000000007 346.0459999999998 365.94900000000007 346.7929999999998 C 364.8960000000001 357.07699999999977 362.0110000000001 361.2299999999998 356.7660000000001 359.88299999999975 C 353.0570000000001 358.92599999999976 349.81700000000006 356.82299999999975 346.3830000000001 354.59899999999976 C 343.55000000000007 352.76299999999975 340.6330000000001 350.8749999999998 337.37700000000007 349.6319999999998 C 349.0330000000001 332.23599999999976 364.0300000000001 315.8869999999998 381.9800000000001 301.0059999999998 C 396.6930000000001 288.8149999999998 412.3910000000001 279.4759999999998 429.01200000000006 269.5889999999998 C 432.36600000000004 267.5939999999998 435.72900000000004 265.5919999999998 439.0950000000001 263.56399999999985 C 450.2850000000001 256.80499999999984 459.9520000000001 250.33299999999986 468.6460000000001 243.78699999999986 C 472.9390000000001 240.54999999999987 477.19200000000006 237.14999999999986 481.28400000000005 233.67999999999986 C 481.963 233.10499999999988 482.59600000000006 232.51099999999985 483.21200000000005 231.92999999999986 C 485.72800000000007 229.56199999999987 487.612 227.91199999999986 490.75800000000004 228.88199999999986 C 492.713 229.48499999999987 494.39400000000006 230.57399999999987 496.17100000000005 231.72499999999985 C 498.69000000000005 233.36199999999985 501.297 235.05199999999985 504.886 235.41499999999985 C 509.295 235.68499999999986 513.7330000000001 234.68399999999986 518.24 232.43499999999986 C 525.229 228.95299999999986 534.893 220.21299999999985 532.883 210.40599999999986 C 532.7370000000001 209.70199999999986 532.1210000000001 209.19099999999986 531.402 209.18499999999986 C 530.778 209.18199999999987 530.053 209.67099999999985 529.894 210.37199999999987 C 529.45 212.30599999999987 527.7330000000001 218.61899999999986 524.22 218.61899999999986 C 523.238 218.61899999999986 522.106 218.15999999999985 520.8480000000001 217.25799999999987 C 520.4480000000001 216.96999999999986 519.8230000000001 216.43199999999987 519.0390000000001 215.76799999999986 C 516.1750000000001 213.33199999999985 511.6890000000001 209.51599999999985 507.8640000000001 208.36899999999986 C 532.9340000000001 182.68999999999986 550.9610000000001 146.34299999999985 555.2510000000001 112.46299999999985 C 555.387 111.631 554.846 110.884 554.047 110.737 z" stroke-linecap="round" />
                    </g>
                </svg>
            </div> *@
            <!-- Content will be inserted here dynamically -->
        </div>
        <!-- Fly-in modal for creating a new method -->
        <div id="createMethodFlyIn" class="fixed inset-0 bg-gray-900 bg-opacity-75 hidden flex justify-center items-center z-50 text-black">
            <div class="bg-white p-6 rounded-lg shadow-lg w-1/2">
                <input type="hidden" id="fileId" name="__FileId" value="" />
                <input type="hidden" id="methodId" name="__MethodId" />

                <h3 class="text-xl font-bold mb-4" id="modalTitle">Create New Method</h3>
                <label for="methodName" class="block text-sm font-medium text-gray-700">Method Name</label>
                <input type="text" id="methodName" class="w-full mt-2 mb-4 p-2 border rounded-md" placeholder="Enter method name">

                <select id="newMethodStatus" class="ml-2 text-black">
                    <option value="New">New</option>
                    <option value="Modified">Modified</option>
                </select>

                <label class="block text-sm font-medium text-gray-700">Description</label>
                <textarea id="description" class="w-full mt-2 mb-4 p-2 border rounded-md" rows="5" placeholder="Enter method description"></textarea>

                <label for="methodCode" class="block text-sm font-medium text-gray-700">Code</label>
                <textarea id="methodCode" class="w-full mt-2 mb-4 p-2 border rounded-md" rows="5" placeholder="Enter method code"></textarea>

                <div class="flex justify-end">
                    <button class="bg-green-500 text-white px-4 py-2 rounded mr-2" id="saveMethodButton"
                            onclick="createMethod().then(() => refreshContent()).catch(error => console.error('Error:', error))">
                        Create
                    </button>
                    <button class="bg-red-500 text-white px-4 py-2 rounded" onclick="closeCreateMethodForm()">Cancel</button>
                </div>
            </div>
        </div>
    </div>
</div>


<script>
    function navigateToPath(path) {
        window.location.href = `/ClassTree/${path}`;
    }

    function showAddInput(type) {
        if (type === 'folder') {
            document.getElementById('addFolderContainer').classList.remove('hidden');
        } else if (type === 'file') {
            document.getElementById('addFileContainer').classList.remove('hidden');
        }
    }

    function cancelAdd(type) {
        if (type === 'folder') {
            document.getElementById('addFolderContainer').classList.add('hidden');
            document.getElementById('newFolderName').value = '';
        } else if (type === 'file') {
            document.getElementById('addFileContainer').classList.add('hidden');
            document.getElementById('newFileName').value = '';
        }
    }
</script>
